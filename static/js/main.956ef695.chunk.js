(this["webpackJsonpsupport-me"]=this["webpackJsonpsupport-me"]||[]).push([[0],{35:function(e,t,a){},38:function(e){e.exports=JSON.parse('{"name":"support-me","version":"0.1.0","private":false,"homepage":"https://hrashidi.github.io/support-me/","dependencies":{"@testing-library/jest-dom":"^5.11.10","@testing-library/react":"^11.2.6","@testing-library/user-event":"^12.8.3","query-string":"^7.0.0","react":"^17.0.2","react-dom":"^17.0.2","react-icons":"^4.2.0","react-router-dom":"^5.2.0","react-scripts":"4.0.3","web-vitals":"^1.1.1","webpay-bahamta":"^1.0.3"},"scripts":{"start":"react-scripts start","build":"react-scripts build","predeploy":"npm run build","deploy":"gh-pages -d build","test":"react-scripts test","eject":"react-scripts eject"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"gh-pages":"^3.1.0","sass":"^1.32.11"}}')},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){"use strict";a.r(t);var c,n=a(1),r=a.n(n),s=a(36),i=a.n(s),o=(a(45),a(14)),l=a(2),u=function(e){c=e.history},j=function(e){c.push(e)},b=(a(46),a.p+"static/media/xlord.ed0ca738.png"),d=(a(47),a(0)),p=function(){return Object(d.jsx)("div",{className:"header",children:Object(d.jsxs)("div",{className:"logo-container",children:[Object(d.jsx)("div",{className:"logo",children:Object(d.jsx)("img",{src:b,alt:"logo"})}),Object(d.jsx)("div",{className:"title",children:"Support Me"})]})})},m=a(11),h=a.n(m),O=a(20),f=a(10),x=a(21),v=a.n(x),g=a(37),y=a.n(g),N="webpay:fb994a27-c9bb-4f8f-86b5-9a65f8edcb17:97ca4184-6ca5-499f-a066-282b9d8f5c83",k=a(38),_=function(e){try{return localStorage.setItem("donation",JSON.stringify(e)),!0}catch(t){return null}},S=(a(39),a(4)),w=a(15),C=(a(88),function(e){var t=e.handleChange,a=e.label,c=Object(w.a)(e,["handleChange","label"]);return Object(d.jsxs)("div",{className:"group",children:[a?Object(d.jsx)("label",{className:"form-label ".concat(c.required?"required":""),children:Object(d.jsx)("span",{children:a})}):null,"textarea"===c.type?Object(d.jsx)("textarea",Object(S.a)({className:"form-input",onChange:t},c)):Object(d.jsx)("input",Object(S.a)({className:"form-input",onChange:t},c))]})}),D=(a(89),function(e){var t=e.children,a=e.inverted,c=Object(w.a)(e,["children","inverted"]);return Object(d.jsx)("button",Object(S.a)(Object(S.a)({},c),{},{className:"custom-button ripple ".concat(a?"inverted":""),children:t}))}),B=(a(90),function(){return Object(d.jsx)("div",{className:"spinner-overlay",children:Object(d.jsx)("div",{className:"spinner-container"})})}),I=a(13),q=function(e){var t=e.initialValues,a=e.onSubmit,c=e.validate,r=Object(n.useState)(t||{}),s=Object(f.a)(r,2),i=s[0],o=s[1],l=Object(n.useState)({}),u=Object(f.a)(l,2),j=u[0],b=u[1],d=Object(n.useState)({}),p=Object(f.a)(d,2),m=p[0],h=p[1];return{values:i,touchedValues:j,errors:m,handleChange:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,c=t.name;o(Object(S.a)(Object(S.a)({},i),{},Object(I.a)({},c,a)))},handleSubmit:function(e){e.preventDefault();var t=c(i);h(Object(S.a)(Object(S.a)({},m),t)),a({values:i,e:t})},handleBlur:function(e){var t=e.target.name;b(Object(S.a)(Object(S.a)({},j),{},Object(I.a)({},t,!0)));var a=c(i);h(Object(S.a)(Object(S.a)({},m),a))}}},F=(a(91),function(e){var t=e.location,a=r.a.useState(!0),c=Object(f.a)(a,2),n=c[0],s=c[1],i=t.search;r.a.useEffect((function(){var e=function(){var e=Object(O.a)(h.a.mark((function e(t,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.verify(N,t,a);case 2:if(e.sent.ok){e.next=6;break}return j("/support-me/failure"),e.abrupt("return");case 6:j("/support-me/success");case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),t=y.a.parse(i),a=t.reference,c=t.state;if(a){var n=function(){try{return JSON.parse(localStorage.getItem("donation"))}catch(e){return null}}();n&&n.reference===a&&"error"!==c?e(n.reference,n.amount_irr):j("/support-me/failure")}else s(!1)}),[i]);var o,l={api_key:N,reference:"donate-"+(new Date).valueOf(),amount_irr:5e4,callback_url:k.homepage,payer_mobile:""},u=r.a.useState(""),b=Object(f.a)(u,2),p=b[0],m=b[1],x=q({initialValues:l,onSubmit:function(){var e=Object(O.a)(h.a.mark((function e(t){var a,c,n,r,s,i,o,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.values,c=a.api_key,n=a.reference,r=a.amount_irr,s=a.callback_url,i=a.payer_mobile,e.next=3,v.a.payment(c,n,r,s,i);case 3:if((o=e.sent).ok){e.next=7;break}return m(o.error),e.abrupt("return");case 7:_({api_key:c,reference:n,amount_irr:r}),l=o.result.payment_url,u=l,window.location.href=u;case 10:case"end":return e.stop()}var u}),e)})));return function(t){return e.apply(this,arguments)}}(),validate:function(e){return null}}),g=x.values,S=x.handleChange,w=x.handleSubmit;return n?Object(d.jsx)("div",{className:"home-page",children:Object(d.jsx)(B,{})}):Object(d.jsxs)("div",{className:"home-page",children:[Object(d.jsx)("div",{className:"title",children:"Support My Works"}),Object(d.jsxs)("div",{className:"desc",children:[Object(d.jsx)("p",{children:"If you are interested on my work, you can buy me a coffee by donating some mony"}),Object(d.jsx)("p",{children:"\ud83c\udd47\ud83c\udd3b\ud83c\udd3e\ud83c\udd41\ud83c\udd33"})]}),Object(d.jsx)("div",{className:"form-container",children:Object(d.jsxs)("form",{onSubmit:w,children:[Object(d.jsx)(C,{type:"tel",name:"payer_mobile",label:"Mobile",defaultValue:g.payer_mobile,handleChange:S,pattern:"[0-9]{4}[0-9]{3}[0-9]{4}",placeholder:"09**-***-****",required:!0}),Object(d.jsx)(C,{type:"number",name:"amount_irr",label:"Amount",min:"50000",step:"10000",defaultValue:l.amount_irr,handleChange:S,required:!0}),Object(d.jsx)("div",{className:"price-value",children:Object(d.jsxs)("span",{children:[(o=g.amount_irr,o=o||0,new Intl.NumberFormat("en-US",{style:"decimal"}).format(o))," Rials"]})}),Object(d.jsx)(D,{type:"submit",children:"Donate"}),p&&Object(d.jsx)("div",{className:"error-message",children:Object(d.jsx)("span",{children:p})})]})})]})}),J=(a(92),function(e){var t=e.items,a=void 0===t?[]:t;return Object(d.jsx)("div",{className:"breadcrumb",children:Object(d.jsx)("ul",{children:a.map((function(e,t){var c=e.title,n=e.routeName;return t===a.length-1?Object(d.jsx)("li",{children:Object(d.jsx)("span",{className:"active",children:c})},t):Object(d.jsx)("li",{children:Object(d.jsx)("span",{children:Object(d.jsx)(o.b,{to:n,children:c})})},t)}))})})}),V=(a(35),function(){var e=[{title:"Home",routeName:"".concat("/support-me")},{title:"checkout",routeName:"".concat("/support-me","/success")}];return Object(d.jsxs)("div",{className:"checkout-page",children:[Object(d.jsx)(J,{items:e}),Object(d.jsxs)("div",{className:"donation-message success",children:[Object(d.jsx)("p",{children:"Your Donation is is succeeded successfully, Thank you for your support"}),Object(d.jsx)("div",{onClick:function(){return j("/")},children:Object(d.jsx)("span",{className:"link",children:"Go Back"})})]})]})}),M=function(){var e=[{title:"Home",routeName:"".concat("/support-me")},{title:"checkout",routeName:"".concat("/support-me","/success")}];return Object(d.jsxs)("div",{className:"checkout-page",children:[Object(d.jsx)(J,{items:e}),Object(d.jsxs)("div",{className:"donation-message error",children:[Object(d.jsx)("p",{children:"Your donation is not confirmed, please try again"}),Object(d.jsx)("div",{onClick:function(){return j("/")},children:Object(d.jsx)("span",{className:"link",children:"Go Back"})})]})]})},z=a(16),E=(a(97),function(){return Object(d.jsxs)("div",{className:"footer",children:[Object(d.jsx)("div",{className:"social-media",children:Object(d.jsxs)("div",{className:"social-media",children:[Object(d.jsx)("a",{className:"icon",target:"_blank",rel:"noopener noreferrer",href:"https://wa.me/989384151911",children:Object(d.jsx)(z.c,{size:28,color:"#25D366"})}),Object(d.jsx)("a",{className:"icon",target:"_blank",rel:"noopener noreferrer",href:"https://www.instagram.com/Ho.rashidi",children:Object(d.jsx)(z.b,{size:28,color:"#E1306C"})}),Object(d.jsx)("a",{className:"icon",target:"_blank",rel:"noopener noreferrer",href:"https://github.com/hrashidi",children:Object(d.jsx)(z.a,{size:28,color:"#4078c0"})})]})}),Object(d.jsx)("div",{className:"copyright",children:"Developed By XLORD"}),Object(d.jsx)("div",{className:"date",children:"2021 \xa9"})]})}),H=function(){var e="/support-me";return Object(d.jsx)("div",{className:"App",children:Object(d.jsxs)(o.a,{ref:u,children:[Object(d.jsx)(p,{}),Object(d.jsxs)(l.d,{children:[Object(d.jsx)(l.b,{exact:!0,path:"".concat(e),component:F}),Object(d.jsx)(l.b,{exact:!0,path:"".concat(e,"/success"),component:V}),Object(d.jsx)(l.b,{exact:!0,path:"".concat(e,"/failure"),component:M}),Object(d.jsx)(l.a,{to:"".concat(e)})]}),Object(d.jsx)(E,{})]})})},L=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,99)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),r(e),s(e)}))};i.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(H,{})}),document.getElementById("root")),L()}},[[98,1,2]]]);
//# sourceMappingURL=main.956ef695.chunk.js.map